<!-- Hero Section -->
<section class="relative parallax-bg fade-in fade-in-delay-1 h-[70vh] bg-no-repeat bg-cover bg-center" 
    style="background-image: url(<%= asset_path('hero-img.jpg') %>);">
    <div class="absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-40 px-5">
        <h1 class="text-3xl sm:text-4xl lg:text-5xl text-center font-bold text-white fade-in-element">
            Ethiopian Evangelical <br> Church Bonn
        </h1>
        <p class="mt-3 text-gray-300 text-sm sm:text-lg fade-in-element">የኢትዮጵያ ወንጌላዊት ቤተ ክርስቲያን ቦን</p>
        <a href="#benefits-id" class="mt-4 px-6 sm:px-8 py-3 sm:py-4 bg-teal-500 text-white font-semibold shadow-md rounded-lg transition duration-200 ease-in-out hover:bg-black hover:text-white fade-in-element">
            Learn More
        </a>
    </div>

    <!-- Benefits Section overlaid on Hero -->
    <div class="absolute -bottom-10 max-sm:-bottom-96 w-full flex justify-center z-10">
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 px-4 max-w-7xl mx-auto">
            
            <!-- Mission -->
            <div class="bg-white p-4 sm:p-6 rounded-2xl shadow-lg fade-in-element">
                <h3 class="text-lg sm:text-xl font-bold mb-3">Our Mission</h3>
                <p class="text-sm sm:text-base">Our mission is to fulfill the Great Commission by spreading the Gospel, teaching God’s Word, and leading souls to the Kingdom of God through faithful witness and education.</p>
            </div>

            <!-- Vision -->
            <div class="bg-white p-4 sm:p-6 rounded-2xl shadow-lg fade-in-element">
                <h3 class="text-lg sm:text-xl font-bold mb-3">Our Vision</h3>
                <p class="text-sm sm:text-base">We envision a vibrant community rooted in faith, recognizing God’s sovereignty and the Holy Trinity, leading to transformed lives and a powerful witness in our neighborhoods.</p>
            </div>

            <!-- Get Involved -->
            <div class="bg-white p-4 sm:p-6 rounded-2xl shadow-lg fade-in-element">
                <h3 class="text-lg sm:text-xl font-bold mb-3">Get Involved</h3>
                <p class="text-sm sm:text-base">Join us in spreading the Gospel! Volunteer, participate in activities, or support our outreach programs. Together, we can build a thriving community of faith and service in Christ's name.</p>
            </div>
        </div>
    </div>
</section>


<!-- About Us Section -->
<section class="py-10 sm:py-16 px-4 sm:px-10 bg-white max-sm:pt-96 fade-in fade-in-delay-2 mt-20" id="about-us-id">
    <div class="max-w-7xl mx-auto">
        <h2 class="text-5xl md:text-4xl max-sm:text-5xl font-extrabold mb-6 text-left fade-in-element">About Us</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">

            <!-- Text Content -->
            <div class="text-left fade-in-element">
                <p id="mainTextEnglish">
                    <span class='text-lg sm:text-xl font-bold'>The Ethiopian Evangelical Church’s mission</span><br>
                    is based on the command given by our Lord Jesus Christ in Matthew 28:19-20 and Mark 16:15, to preach the Gospel, win souls for God’s Kingdom, teach God’s Word, and make disciples.
                </p>
                <p id="moreTextEnglish" class="hiddenText">
                    <br>
                    The Church believes:<br>
                    <span class='text-xl font-bold'>1.</span> God is eternal, omnipotent, and above all, incomparable in any way. (Isaiah 40:28)<br><br>
                    <span class='text-xl font-bold'>2.</span> God is the Creator and supreme ruler of all visible and invisible creation. (Genesis 1:1-31, Colossians 1:15-16)<br><br>
                    <span class='text-xl font-bold'>3.</span> God is one, revealed in three persons: Father, Son, and Holy Spirit (the Trinity), existing and working together eternally. (John 14:26, 2 Corinthians 13:13-14, 1 Corinthians 12:4-6, Revelation 1:8)<br><br>
                </p>
                <button class="mt-2 mb-4 text-black bg-teal-300 px-3 py-1 rounded-full text-sm" id="showMoreBtnEnglish" onclick="toggleText('English')">Show More...</button>

                <!-- Amharic Text -->
                <p id="mainTextAmharic">
                    <span class='text-lg sm:text-xl font-semibold'>የኢትዮጵያ ወንጌላዊት ቤተ ክርስቲያን ቦን ዓላማዋ</span><br>
                    ጌታችን ኢየሱስ ክርስቶስ በማቴዎስ ወንጌል 28:19-20 እና በማርቆስ ወንጌል 16:15 በሰጠው ትዕዛዝ መሠረት በወንጌል ስብከት ነፍሳትን በመውረስ ወደ እግዚአብሔር መንግሥት በማፍለስ የእግዚአብሔርን ቃል እያስተማረች በማሳደግ ደቀ መዛሙርትን የማፍራት ተልዕኮዋን መወጣት ነው::
                </p>
                <p id="moreTextAmharic" class="hiddenText">
                    <br>
                    ቤተ ክርስቲያኗ:<br>
                    <span class='text-xl font-bold'>1.</span> እግዚአብሄር ዘላለማዊ ሁሉን ቻይና ከሁሉም በላይ የሆነ በምንም የማይመሰል አምላክ እነደሆነ ታምናለች፡፡ (ኢሳ. 40:28)<br><br>
                    <span class='text-xl font-bold'>2.</span> የፍጥረት ሁሉ ፈጣሪና የበላይ አስተዳዳሪ እንደሆነ ታምናለች፡፡ (ዘፍ. 1:1-31, ቆላ. 1:15-16)<br><br>
                    <span class='text-xl font-bold'>3.</span> በአብ በወልድና በመንፈስ ቅዱስ ሦስት መለኮታዊ አካላት (ሥላሴ) እነደሆነ ታምናለች፡፡<br><br>
                </p>
                <button class="mt-2 text-black bg-teal-300 px-3 py-1 rounded-full text-sm" id="showMoreBtnAmharic" onclick="toggleText('Amharic')">Show More...</button>
            </div>

<!-- Image Content -->
<div class="fade-in-element flex justify-center">
    <!-- SwiperJS Carousel -->
    <div class="w-96 swiper-container rounded-2xl shadow-lg fade-in-carousel">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="<%= asset_path('church-image.jpg') %>" class="w-full max-w-md mx-auto" alt="Church Image 1"></div>
            <div class="swiper-slide"><img src="<%= asset_path('home-image-2.jpg') %>" class="w-full max-w-md mx-auto" alt="Church Image 2"></div>
            <div class="swiper-slide"><img src="<%= asset_path('home-image-3.jpg') %>" class="w-full max-w-md mx-auto" alt="Church Image 3"></div>
            <div class="swiper-slide"><img src="<%= asset_path('home-image-4.jpg') %>" class="w-full max-w-md mx-auto" alt="Church Image 3"></div>
            <div class="swiper-slide"><img src="<%= asset_path('home-image-5.jpg') %>" class="w-full max-w-md mx-auto" alt="Church Image 3"></div>
        </div>
        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>
    </div>
</div>
</div>
</section>

<!-- SwiperJS Initialization -->
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script>
    const swiper = new Swiper('.swiper-container', {
        loop: true,
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        centeredSlides: true,
        slidesPerView: 1, // Only show one slide
        autoplay: {
            delay: 3000, // Autoscroll every 3 seconds
            disableOnInteraction: false, // Continue autoplay even after user interaction
        },
    });
</script>

<!-- SwiperJS Styles -->
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">

<!-- Custom CSS -->
<style>
/* Prevent horizontal scrolling */
body {
    overflow-x: hidden;
}

/* Fix swiper-slide overflow issue */
.swiper-container {
    overflow: hidden; /* Ensures no extra content escapes the container */
    max-width: 100%; /* Prevents horizontal stretching */
}

/* All slides same dimensions */
.swiper-slide {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%; /* Ensure slide takes full width of container */
    box-sizing: border-box; /* Prevent padding/margin issues */
}

/* Hide non-active slides */
.swiper-slide {
    opacity: 0;
    transform: scale(0.8);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.swiper-slide.swiper-slide-active {
    opacity: 1;
    transform: scale(1);
}

/* Add fade-in effect for the carousel */
.fade-in-carousel {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeIn 1s ease forwards;
}

/* Keyframes for fade-in animation */
@keyframes fadeIn {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
</style>



<!-- Blog/Post Section -->
<section class="py-12 px-4 bg-white scroll-smooth fade-in fade-in-delay-2">
    <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl font-bold mb-6">Our Blog</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-8">
            <% @posts.reverse.take(3).each do |post| %>
                <%= link_to post_path(post), class: "bg-gray-200 max-w-xs mx-auto block transition duration-200 w-72 ease-in-out rounded-xl cursor-pointer hover:shadow-lg fade-in fade-in-delay-3" do %>
                    <% # Получаем изображение из связанной таблицы 'images' %>

                    <% if post.images.any? %>
                    <% image = post.images.first %>
                    <%= image_tag url_for(image), class: 'h-40 w-full object-cover rounded-t-xl' %>
                    <% else %>
                    <%= image_tag 'default-image.png', class: 'h-40 w-full object-cover rounded-t-xl', alt: 'Default Image' %>
                    <% end %>


                    
                    <p class="mt-2 font-semibold text-md"><%= post.title %></p>
                    <p class="text-xs text-gray-500"><%= post.created_at.strftime("%B %d, %Y") %></p> <!-- Date formatting -->
                    <p class="text-sm mt-2 text-gray-600 pb-3 px-3"><%= post.description.truncate(100, separator: ' ') %></p> <!-- Truncate for brevity -->
                <% end %>
            <% end %>
        </div>
        <%= link_to 'More Posts', posts_path, class: 'transition duration-200 ease-in-out px-6 py-3 bg-teal-500 text-white font-semibold shadow-md rounded-lg hover:bg-black hover:text-white' %>
    </div>
</section>



<!-- Contact Us Section -->
<section class="py-16 bg-gradient-to-r from-blue-400 to-green-400 fade-in fade-in-delay-2" id="contact-us-id" data-aos="fade-up">
    <div class="max-w-7xl mx-auto text-center">
        <h2 class="text-4xl font-bold text-white mb-8" data-aos="fade-down">Contact Us</h2>
        <div class="bg-white shadow-lg p-8 rounded-3xl inline-block transition-transform transform hover:scale-105 fade-in fade-in-delay-3" data-aos="zoom-in" data-aos-delay="100">
            <a href="tel:+49 172 751 0678"><p class="hover:text-gray-500 text-lg font-semibold text-gray-700"><span class="font-normal">+49 172 751 0678</span></p></a>
            <a href="tel:+49 152 510 15814"><p class="hover:text-gray-500 text-lg font-semibold text-gray-700"><span class="font-normal">+49 152 510 15814</span></p></a>
            <a href="mailto:ethioevangelicalbonn@gmail.com" class="hover:text-gray-500 text-lg font-semibold text-gray-700"><span class="font-normal">ethioevangelicalbonn@gmail.com</span></a>
            <div class="flex justify-center space-x-4 mt-2" data-aos="fade-up" data-aos-delay="200">
                <a href="https://www.facebook.com/people/Ethiopian-evangelical-Church-in-BonnGermany/61570843404858/" target='_blank' class="text-black hover:text-teal-500 transition-colors duration-300">
                    <i class="fab fa-facebook text-4xl"></i>
                </a>
                <a href="https://wa.me/491727510678" target='_blank' class="text-black hover:text-teal-500 transition-colors duration-300">
                    <i class="fab fa-whatsapp text-4xl"></i>
                </a>
                <a href="https://www.youtube.com/@ethiopianevangelicalchurchbonn" target='_blank' class="text-black hover:text-teal-500 transition-colors duration-300">
                    <i class="fab fa-youtube text-4xl"></i>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Google Maps Section -->
<section class="py-16 px-10 bg-gray-50 justify-center fade-in fade-in-delay-2" data-aos="fade-up">
    <div class="max-w-2xl mx-auto items-center">
        <div class="rounded-lg text-center fade-in fade-in-delay-3">
            <a href="https://maps.app.goo.gl/sE2c9U2u9eJUs4Ei9" target="_blank" class="text-2xl shadow-sm font-semibold bg-teal-200 px-3 py-2 rounded-xl" data-aos="zoom-in">
                Open in <i class="fa-brands fa-google"></i> Maps
            </a>
            <iframe class="border rounded-3xl shadow-md w-full h-96 mt-8" 
                src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d5054.333077989827!2d7.157128!3d50.698294!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47bee40f91c8b17f%3A0xdd3b09f4c32bbe70!2sEvangelical%20Free%20Church%20congregation%20Bonn!5e0!3m2!1sen!2sde!4v1735481973614!5m2!1sen!2sde" 
                width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" 
                data-aos="fade-up" data-aos-delay="200">
            </iframe>
        </div>
    </div>
</section>

<!-- Styles for Smooth Transitions -->
<style>
    .hiddenText {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.5s ease-out;
    }

    .showText {
        max-height: 500px;
        transition: max-height 0.5s ease-in;
    }

    /* Add fade-in effect when element appears */
    .fade-in-element {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    .fade-in-element.visible {
        opacity: 1;
        transform: translateY(0);
    }
</style>

<script>
    function toggleText(language) {
        const moreText = document.getElementById("moreText" + language);
        const showMoreBtn = document.getElementById("showMoreBtn" + language);

        if (moreText.classList.contains("hiddenText")) {
            moreText.classList.remove("hiddenText");
            moreText.classList.add("showText");
            showMoreBtn.innerText = "Show Less...";
        } else {
            moreText.classList.remove("showText");
            moreText.classList.add("hiddenText");
            showMoreBtn.innerText = "Show More...";
        }
    }

    // Intersection Observer to trigger fade-in effect when scrolled into view
    document.addEventListener("DOMContentLoaded", function() {
        const elements = document.querySelectorAll('.fade-in-element');
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.2 });

        elements.forEach(element => observer.observe(element));
    });
</script>
